<head>
<!-- Augmented Reality on the Web in 10 lines of html! https://github.com/jeromeetienne/ar.js -->
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://raw.githack.com/jeromeetienne/AR.js/2.0.5/aframe/build/aframe-ar.js"></script>
<script src="https://raw.githack.com/brickhawkins/aframe-ar/master/lib/aframe-gif-shader.js"></script>
<script>
	AFRAME.registerComponent('handler1', 
	{
		init: function () 
		{ 
			 // Set up initial state and variables. 
			 this.toggle = false; 
			 this.vid = document.querySelector("#vid1"); 
			 this.vid.pause(); 
		},
		tick:function() 
		{ 
			if(this.el.object3D.visible == true) 
			{ 
				if(!this.toggle) 
				{ 
					this.toggle = true; 
					this.vid.play(); 
				} 
			}
			else 
			{ 
				this.toggle = false; 
				this.vid.pause(); 
			} 
		} 
	});

	AFRAME.registerComponent('handler2', 
	{
		init: function () 
		{ 
			 // Set up initial state and variables. 
			 this.toggle = false; 
			 this.vid = document.querySelector("#vid2"); 
			 this.vid.pause(); 
		},
		tick:function() 
		{ 
			if(this.el.object3D.visible == true) 
			{ 
				if(!this.toggle) 
				{ 
					this.toggle = true; 
					this.vid.play(); 
				} 
			}
			else 
			{ 
				this.toggle = false; 
				this.vid.pause(); 
			} 
		} 
	});
</script>
</head>

<body style='margin : 0px; overflow: hidden;'>
	<a-scene vr-mode-ui="enabled: false" stats='false' embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
		<a-assets>
			<video preload="auto" id="vid1" loop="true" autoplay crossorigin webkit-playsinline playsinline controls>
           			<source  type="video/webm"  src="videos/vid1.mp4">
           			<h3>Error : Your browser does not support.</h3>
        		</video>
			
			<video preload="auto" id="vid2" loop="true" autoplay crossorigin webkit-playsinline playsinline controls>
           			<source  type="video/webm"  src="videos/vid2.mp4">
           			<h3>Error : Your browser does not support.</h3>
        		</video>
			
			<video preload="auto" id="vid3" loop="true" autoplay crossorigin webkit-playsinline playsinline controls>
           			<source  type="video/webm"  src="videos/vid3.mp4">
           			<h3>Error : Your browser does not support.</h3>
        		</video>
			
			<video preload="auto" id="vid4" loop="true" autoplay crossorigin webkit-playsinline playsinline controls>
           			<source  type="video/webm"  src="videos/vid4.mp4">
           			<h3>Error : Your browser does not support.</h3>
        		</video>
  		</a-assets>
  	<a-marker crossorigin="anonymous" preset='custom' type='pattern' url='marker/marker1.patt' handler1>
		    <a-plane 
	  		    position='0 0.1 0' 
	  		    scale="1 1 1" 
	  		    rotation="-90 0 0" 
	  		    material='transparent:true;alphaTest:0;src:#vid1'>
	  		</a-plane>
  	</a-marker>
	<a-marker crossorigin="anonymous" preset='custom' type='pattern' url='marker/marker2.patt' handler2>
		<a-plane 
	  		    position='0 0.1 0' 
	  		    scale="1 1 1" 
	  		    rotation="-90 0 0" 
	  		    material='transparent:true;alphaTest:0;src:#vid2'>
	  		</a-plane>
  	</a-marker>
	<a-marker crossorigin="anonymous" preset='custom' type='pattern' url='marker/marker3.patt'>
		<a-plane 
	  		    position='0 0.1 0' 
	  		    scale="1 1 1" 
	  		    rotation="-90 0 0" 
	  		    material='transparent:true;alphaTest:0;src:#vid3'>
	  		</a-plane>
  	</a-marker>
	<a-marker crossorigin="anonymous" preset='custom' type='pattern' url='marker/marker4.patt'>
		<a-plane 
	  		    position='0 0.1 0' 
	  		    scale="1 1 1" 
	  		    rotation="-90 0 0" 
	  		    material='transparent:true;alphaTest:0;src:#vid4'>
	  		</a-plane>
  	</a-marker>
  	<a-entity camera></a-entity>
	</a-scene>
</body>
